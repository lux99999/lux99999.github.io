<!DOCTYPE html>
<html>
<head>
<script src="papaparse.min.js"></script>
<script src="census.js"></script>
<script src="covid.js"></script>
<script src="when.js"></script>
<script src="analyzer.js"></script>
<script>

function update() {
	if (census.ready && covid.ready) {
		var cutoff = new When().update();
		analyzer.analyze(cutoff);
	}
}

census = new Census(update);
covid = new Covid(update);
analyzer = new Analyzer(census, covid);

</script>
</head>
<body>
<object type="image/svg+xml" id="map" data="map.svg"></object>
<div id="status" style="position: fixed; top: 0; left: 600px; font-family: sans-serif"></div>
<div id="date" style="position: fixed; bottom: 0; left: 0; font-family: sans-serif"></div>
<div style="position: fixed; bottom: 0; left: 100px; right: 0;">
<input type="range" id="when" min="1" max="100" value="100" style="width: 100%" oninput="update();">
</div>
</body>
</html>
